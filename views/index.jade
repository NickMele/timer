extends layout

block scripts
	script(src="/socket.io/socket.io.js")
	script(src="/js/timer.js")
	script(src="/js/modules/ko.timer.js")

block content

	div.main-menu(data-bind="css: { open: $root.state.mainMenuOpen() }")
		div.top-row
			a.toggle-menu(data-bind="click: $root.toggleMainMenu")
				i(data-bind="css: { 'icon-chevron-right': !$root.state.mainMenuOpen(),'icon-chevron-left': $root.state.mainMenuOpen() }")
			a.new-timer
				i.icon-time
				|  New timer...
		div.timer-list(data-bind="foreach: data.timers")
			a.timer-list-link(data-bind="click: $root.setCurrentTimer.bind($data, $index()), css: { active: $index() == $root.data.currentTimer() }").list-group-item.timer-link
				span(data-bind="text: data.name()")

	div.top-row
		div.timer-options
			a.timer-option(data-bind="click: $root.editTimer")
				i.icon-edit
			a.timer-option(data-bind="click: $root.removeTimer")
				i.icon-trash

	div.main-content
		include zones/_timer-zone

	div.main-content
		include zones/_timer-editor

	audio#audio-handle(src="/audio/come-to-daddy.mp3",preload="auto")